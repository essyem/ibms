{% extends "portal/invoice_base.html" %}
{% load static %}

{% block title %}Theme Toggle Example{% endblock %}

{% block content %}
  <div class="theme-toggle">
    Theme:
    <select id="themeSelect">
      <option value="system">System</option>
      <option value="light">Day</option>
      <option value="dark">Dark</option>
    </select>
  </div>
  <div class="container mt-4">
    <h1>Hello, World!</h1>
    <p>This is a day/dark/system toggle example.</p>
  </div>

  <script>
    const themeSelect = document.getElementById('themeSelect');
    function setTheme(theme) {
      if (theme === 'system') document.documentElement.removeAttribute('data-theme');
      else document.documentElement.setAttribute('data-theme', theme);
    }
    const savedTheme = localStorage.getItem('theme') || 'system';
    themeSelect.value = savedTheme; setTheme(savedTheme);
    themeSelect.addEventListener('change', () => { localStorage.setItem('theme', themeSelect.value); setTheme(themeSelect.value); });
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => { if (themeSelect.value === 'system') setTheme('system'); });
  </script>
{% endblock %}